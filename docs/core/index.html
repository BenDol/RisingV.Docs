<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title> | RisingV.Core </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content=" | RisingV.Core ">
      
      
      <link rel="icon" href="assets/images/favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/BenDol/RisingV.Core/blob/master/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="landing" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="assets/images/logo_50.png" alt="RisingV.Core">
            RisingV.Core
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">


<p>The beating (molten) heart of the RisingV ecosystem.</p>
<blockquote>
<p><em>â€œRisingV.Core is a core mod for V Rising that allows you to use RisingV mods.<br>
It provides a set of APIs and utilities that make it easier to create and manage mods for V Rising.â€</em></p>
</blockquote>
<h2 id="-features">âš™ï¸ Features</h2>
<ul>
<li><strong>Plugin lifecycle</strong> â€“ deterministic load / unload / reload with safe dependency ordering using <code>RisingPlugin&lt;TContext&gt;</code>.</li>
<li><strong>Aspect abstraction</strong> â€“ Aspect (a.k.a. Aspecting) is the pattern this SDK uses to give a domain object or ECS entity one or more typed views without polluting the underlying model with cross-cutting concerns.</li>
<li><strong>Engine modules</strong> â€“ modular architecture for loading/unloading systems, processors and hooks like <code>DamageEngine</code>, <code>DeathEngine</code>, <code>StatEngine</code>, etc.</li>
<li><strong>Harmony Patches</strong> - a set of Harmony patches for common game hooks like <code>DeathHook</code>, <code>StatChangeSystemHook</code>, etc. The hooks all publish to the event bus, so you can subscribe to them without needing to patch the game code directly.</li>
<li><strong>Processors</strong> â€“ a high-level abstraction for processing game objects/events in a type-safe manner, allowing you to create custom processors that can be registered with the engine. Mostly used in Harmony patches.</li>
<li><strong>Systems</strong> â€“ a set of systems for common game mechanics like <code>LootSystem</code>, <code>DamageTrackingSystem</code>, <code>ChatSystem</code>, etc. These systems can be registered in your plugin or sometimes are pre-registered in an <code>Engine</code>.</li>
<li><strong>Event bus</strong> â€“ decoupled, async pub-sub pipeline for game-wide events.</li>
<li><strong>Item Drops</strong> â€“ a system for managing item drops, including support for custom drop tables and loot generation.</li>
<li><strong>Extensions</strong> â€“ Class extensions for common operations on Entity, PrefabGUID, and more.</li>
</ul>
<blockquote>
<p><em>Note:</em> This may not be the entire listâ€”refer to the <a href="https://docs.risingv.dev/core/api/RisingV.Core.html">API docs</a> for every class, interface, and extension method that RisingV.Core provides.</p>
</blockquote>
<h2 id="-installation">ğŸ“¦ Installation</h2>
<ol>
<li><strong>Dependency</strong> â€“ ensure <a href="https://github.com/BenDol/RisingV.Shared">RisingV.Shared</a> is already present.</li>
<li>Copy <code>RisingV.Core.dll</code> to <code>BepInEx/plugins</code>.</li>
<li>Restart your dedicated server or client.</li>
</ol>
<h2 id="-plugin-quick-start">ğŸš€ Plugin quick start</h2>
<pre><code class="lang-csharp">using BepInEx;
using RisingV.Shared.Plugins;
using RisingV.Shared.Engines;
using RisingV.Core.Engines;

public class MyCoolPluginConfig() : PluginConfig(MyPluginInfo.PLUGIN_GUID, MyPluginInfo.PLUGIN_GUID)
{
    public ConfigEntry&lt;float&gt; AttackModifier { get; set; } =
        new(&quot;Gameplay&quot;, &quot;AttackModifier&quot;, 1f, &quot;Modifier for attack damage&quot;);
}

public class MyCoolPluginContext() : PluginContext(typeof(MyPluginInfo), new MyCoolPluginConfig());

[BepInPlugin(MyPluginInfo.PLUGIN_GUID, MyPluginInfo.PLUGIN_NAME, MyPluginInfo.PLUGIN_VERSION)]
[BepInDependency(&quot;gg.deca.VampireCommandFramework&quot;)]
[BepInDependency(&quot;RisingV.Core&quot;)]
public class Plugin : RisingPlugin&lt;MyCoolPluginContext&gt;
{
    protected override void OnLoad()
    {
        // Plugin startup logic (pre-initialization)
    }

    protected override bool OnUnload()
    {
        return true;
    }

    protected override void RegisterEngines(EngineManager engineManager)
    {
        engineManager.AddEngine&lt;ScriptingEngine&gt;(this);
        engineManager.AddEngine&lt;DamageEngine&gt;(this);
        engineManager.AddEngine&lt;DeathEngine&gt;(this);
    }

    // You can also override other methods to register systems, processors, databases, etc.
}
</code></pre>
<h2 id="-configurations">ğŸ› ï¸ Configurations</h2>
<p>RisingV.Core uses the <code>RisingV.Shared.Config</code> base class for configuration management. This allows you to define your plugin's configuration in a type-safe manner, with support for hot-reloading and easy access to configuration values. It also means that majority of the systems/components in the RisingV ecosystem can be configured via json files.</p>
<pre><code>BepInEx/configs
â””â”€â”€ RisingV.Core
    â”œâ”€â”€ Engines
    â”‚   â”œâ”€â”€ AchievementEngine.cfg
    â”‚   â”œâ”€â”€ AdminEngine.cfg
    â”‚   â”œâ”€â”€ BuffEngine.cfg
    â”‚   â”œâ”€â”€ CastleEngine.cfg
    â”‚   â”œâ”€â”€ ClanEngine.cfg
    â”‚   â”œâ”€â”€ DamageEngine.cfg
    â”‚   â”œâ”€â”€ DeathEngine.cfg
    â”‚   â”œâ”€â”€ EquipmentEngine.cfg
    â”‚   â”œâ”€â”€ ItemEngine.cfg
    â”‚   â”œâ”€â”€ LootEngine.cfg
    â”‚   â”œâ”€â”€ SaveEngine.cfg
    â”‚   â”œâ”€â”€ SpawnEngine.cfg
    â”‚   â””â”€â”€ StatEngine.cfg
    â”œâ”€â”€ RisingV.Core.cfg
    â”œâ”€â”€ Systems
    â”‚   â”œâ”€â”€ DamageTrackingSystem.cfg
    â”‚   â””â”€â”€ LootSystem.cfg
    â””â”€â”€ RisingV.Core.cfg
</code></pre>
<h2 id="-docs">ğŸ“š Docs</h2>
<p>For a deeper dive, API reference, and design docs see <a href="https://docs.risingv.dev/core">https://docs.risingv.dev/core</a>.</p>
<h2 id="-contributing">ğŸ¤ Contributing</h2>
<p>PRs that add new functionalityâ€”or improve existing onesâ€”are warmly welcomed.
Please open an issue first if you plan a large refactor.</p>
<h2 id="-license">ğŸ“ License</h2>
<p>GNU GPL-3.0. See LICENSE for details.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/BenDol/RisingV.Core/blob/master/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
